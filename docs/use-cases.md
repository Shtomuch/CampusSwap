# üéØ Use Cases

–ù–∏–∂—á–µ –Ω–∞–≤–µ–¥–µ–Ω—ñ —Ç–∏–ø–æ–≤—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ –∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É –∫—ñ–Ω—Ü–µ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

---

## üë§ Use Case 1 ‚Äî –ü–æ–∫—É–ø–µ—Ü—å —à—É–∫–∞—î —Ç–∞ –∫—É–ø—É—î —Ç–æ–≤–∞—Ä

**–ê–∫—Ç–æ—Ä:** –ü–æ–∫—É–ø–µ—Ü—å  
**–ü–µ—Ä–µ–¥—É–º–æ–≤–∏:**

- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏–π —É —Å–∏—Å—Ç–µ–º—ñ.
- –ú–∞—î –¥–æ—Å—Ç—É–ø –¥–æ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—É —Ç–∞ —á–∞—Ç—É.

**–û—Å–Ω–æ–≤–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π:**

1. –ü–æ–∫—É–ø–µ—Ü—å –≤—ñ–¥–∫—Ä–∏–≤–∞—î –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å.
2. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø–æ—à—É–∫ —ñ —Ñ—ñ–ª—å—Ç—Ä–∏, —â–æ–± –∑–Ω–∞–π—Ç–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∏–π —Ç–æ–≤–∞—Ä.
3. –ü–µ—Ä–µ–≥–ª—è–¥–∞—î –æ–ø–∏—Å, —Ñ–æ—Ç–æ —Ç–∞ —É–º–æ–≤–∏ —É–≥–æ–¥–∏.
4. –ß–µ—Ä–µ–∑ —á–∞—Ç —Å—Ç–∞–≤–∏—Ç—å –ø—Ä–æ–¥–∞–≤—Ü—é –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è.
5. –£–∑–≥–æ–¥–∂—É—î —Ü—ñ–Ω—É –∞–±–æ —É–º–æ–≤–∏ –¥–æ—Å—Ç–∞–≤–∫–∏.
6. –ó–∞–≤–µ—Ä—à—É—î –ø–æ–∫—É–ø–∫—É (–ø—ñ—Å–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –ø—Ä–æ–¥–∞–≤—Ü–µ–º).

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–∫—É–ø–µ—Ü—å –ø—Ä–∏–¥–±–∞–≤ —Ç–æ–≤–∞—Ä, –º–∞—é—á–∏ –∑–º–æ–≥—É –æ–¥—Ä–∞–∑—É —É—Ç–æ—á–Ω–∏—Ç–∏ –≤—Å—ñ –¥–µ—Ç–∞–ª—ñ.

---

## üõí Use Case 2 ‚Äî –ü—Ä–æ–¥–∞–≤–µ—Ü—å –≤–∏—Å—Ç–∞–≤–ª—è—î —Ç–æ–≤–∞—Ä —ñ —Å–ø—ñ–ª–∫—É—î—Ç—å—Å—è –∑ –ø–æ–∫—É–ø—Ü–µ–º

**–ê–∫—Ç–æ—Ä:** –ü—Ä–æ–¥–∞–≤–µ—Ü—å  
**–ü–µ—Ä–µ–¥—É–º–æ–≤–∏:**

- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–∞—î –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏–π –∞–∫–∞—É–Ω—Ç.

**–û—Å–Ω–æ–≤–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π:**

1. –ü—Ä–æ–¥–∞–≤–µ—Ü—å —Å—Ç–≤–æ—Ä—é—î –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è, –¥–æ–¥–∞—î —Ñ–æ—Ç–æ, –æ–ø–∏—Å —ñ —Ü—ñ–Ω—É.
2. –û—Ç—Ä–∏–º—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥ –ø–æ–∫—É–ø—Ü—ñ–≤ —É —á–∞—Ç—ñ.
3. –í–µ–¥–µ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∏ —â–æ–¥–æ –≤–∞—Ä—Ç–æ—Å—Ç—ñ —á–∏ –¥–æ—Å—Ç–∞–≤–∫–∏.
4. –ü–æ–≥–æ–¥–∂—É—î —Ñ—ñ–Ω–∞–ª—å–Ω—ñ —É–º–æ–≤–∏ –∑ –ø–æ–∫—É–ø—Ü–µ–º.
5. –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î —É–≥–æ–¥—É.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–æ–≤–∞—Ä –ø—Ä–æ–¥–∞–Ω–æ, –∞ –ø—Ä–æ—Ü–µ—Å –≤—ñ–¥–±—É–≤—Å—è —à–≤–∏–¥–∫–æ –∑–∞–≤–¥—è–∫–∏ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–æ–º—É —á–∞—Ç—É.

---

## üí¨ Use Case 3 ‚Äî –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–µ–¥–µ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∏ –ø—Ä–æ —Ü—ñ–Ω—É

**–ê–∫—Ç–æ—Ä–∏:** –ü–æ–∫—É–ø–µ—Ü—å —ñ –ü—Ä–æ–¥–∞–≤–µ—Ü—å

**–û—Å–Ω–æ–≤–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π:**

1. –ü–æ–∫—É–ø–µ—Ü—å –∑–Ω–∞—Ö–æ–¥–∏—Ç—å —Ç–æ–≤–∞—Ä —ñ —ñ–Ω—ñ—Ü—ñ—é—î —Ä–æ–∑–º–æ–≤—É –≤ —á–∞—Ç—ñ.
2. –ó–∞–ø–∏—Ç—É—î –ø—Ä–æ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–Ω–∏–∂–∫–∏.
3. –ü—Ä–æ–¥–∞–≤–µ—Ü—å –ø—Ä–æ–ø–æ–Ω—É—î –Ω–æ–≤—É —Ü—ñ–Ω—É –∞–±–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ñ —É–º–æ–≤–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω—É –¥–æ—Å—Ç–∞–≤–∫—É).
4. –°—Ç–æ—Ä–æ–Ω–∏ –¥–æ—Ö–æ–¥—è—Ç—å –∑–≥–æ–¥–∏.
5. –£–≥–æ–¥–∞ –æ—Ñ–æ—Ä–º–ª—é—î—Ç—å—Å—è –∑–∞ –ø–æ–≥–æ–¥–∂–µ–Ω–∏–º–∏ —É–º–æ–≤–∞–º–∏.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–∏—Å—Ç–µ–º–∞ –∑–∞–±–µ–∑–ø–µ—á–∏–ª–∞ –ø—Ä–æ–∑–æ—Ä—ñ —Ç–∞ —à–≤–∏–¥–∫—ñ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∏, —â–æ –∑–∞–≤–µ—Ä—à–∏–ª–∏—Å—è —É—Å–ø—ñ—à–Ω–æ—é —É–≥–æ–¥–æ—é.

---

## üß© –î—ñ–∞–≥—Ä–∞–º–∞ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ (–ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∏ —Ç–∞ –ø–æ–∫—É–ø–∫–∞)

sequenceDiagram
title –ü–µ—Ä–µ–≥–æ–≤–æ—Ä–∏ –ø—Ä–æ —Ü—ñ–Ω—É —Ç–∞ –ø–æ–∫—É–ø–∫–∞ (Buyer ‚Üî Seller —á–µ—Ä–µ–∑ Chat + Marketplace)

    actor Buyer as –ü–æ–∫—É–ø–µ—Ü—å
    participant WebApp as WebApp (React)
    participant API as API (ASP.NET Core)
    participant MP as Marketplace
    participant Chat as Chat Service
    actor Seller as –ü—Ä–æ–¥–∞–≤–µ—Ü—å
    participant Pay as Payment/Order

    %% –ü–æ—à—É–∫ —ñ –ø–µ—Ä–µ–≥–ª—è–¥ —Ç–æ–≤–∞—Ä—É
    Buyer->>WebApp: –í—ñ–¥–∫—Ä–∏—Ç–∏ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å, –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä–∏/–ø–æ—à—É–∫
    WebApp->>API: GET /items?filters‚Ä¶
    API->>MP: Query items
    MP-->>API: Items list
    API-->>WebApp: 200 OK + items
    WebApp-->>Buyer: –ü–æ–∫–∞–∑–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ —ñ –∫–∞—Ä—Ç–∫—É —Ç–æ–≤–∞—Ä—É

    %% –Ü–Ω—ñ—Ü—ñ–∞—Ü—ñ—è —á–∞—Ç—É
    Buyer->>WebApp: –í—ñ–¥–∫—Ä–∏—Ç–∏ —Ç–æ–≤–∞—Ä ‚Üí "–ù–∞–ø–∏—Å–∞—Ç–∏ –ø—Ä–æ–¥–∞–≤—Ü—é"
    WebApp->>API: POST /chats {itemId, sellerId}
    API->>Chat: Create or get thread
    Chat-->>API: ThreadId
    API-->>WebApp: 201 Created + ThreadId
    WebApp-->>Buyer: –í—ñ–¥–∫—Ä–∏—Ç–∏ —á–∞—Ç

    %% –ü–µ—Ä–µ–≥–æ–≤–æ—Ä–∏
    Buyer->>Chat: "–¶—ñ–Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∞? –ú–æ–∂–ª–∏–≤–∞ –∑–Ω–∏–∂–∫–∞?"
    Chat-->>Seller: Push/notification
    Seller->>Chat: "–ú–æ–∂—É -10% –∞–±–æ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω—É –¥–æ—Å—Ç–∞–≤–∫—É"
    Chat-->>Buyer: –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥ –ø—Ä–æ–¥–∞–≤—Ü—è

    %% –£–∑–≥–æ–¥–∂–µ–Ω–Ω—è
    alt –î–æ–º–æ–≤–ª–µ–Ω—ñ—Å—Ç—å –¥–æ—Å—è–≥–Ω—É—Ç–∞
        Buyer->>WebApp: "–ö—É–ø–∏—Ç–∏ –∑–∞ —É–∑–≥–æ–¥–∂–µ–Ω–æ—é —Ü—ñ–Ω–æ—é"
        WebApp->>API: POST /orders {itemId, priceAgreed, shipping}
        API->>MP: –ó–∞—Ä–µ–∑–µ—Ä–≤—É–≤–∞—Ç–∏ —Ç–æ–≤–∞—Ä
        MP-->>API: OK (reserved)
        API->>Pay: –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–ª–∞—Ç—ñ–∂/—ñ–Ω–≤–æ–π—Å
        Pay-->>API: Payment link / status=Pending
        API-->>WebApp: 201 Created + paymentLink
        WebApp-->>Buyer: –ü–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü—ñ—è –Ω–∞ –æ–ø–ª–∞—Ç—É
        Buyer->>Pay: –û–ø–ª–∞—Ç–∞
        Pay-->>API: Webhook: payment=Succeeded
        API->>MP: –ü–æ–∑–Ω–∞—á–∏—Ç–∏ —Ç–æ–≤–∞—Ä —è–∫ –ø—Ä–æ–¥–∞–Ω–∏–π
        MP-->>API: OK (sold)
        API-->>Buyer: –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è (email/notification)
        API-->>Seller: –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –ø—Ä–æ–¥–∞–∂ (email/notification)
    else –î–æ–º–æ–≤–ª–µ–Ω—ñ—Å—Ç—å –Ω–µ –¥–æ—Å—è–≥–Ω—É—Ç–∞
        Buyer-->>Chat: "–î—è–∫—É—é, —Ä–æ–∑–≥–ª—è–Ω—É —ñ–Ω—à—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏"
        Chat-->>Seller: –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è –¥—ñ–∞–ª–æ–≥—É –±–µ–∑ —É–≥–æ–¥–∏
    end

    note over Buyer, Seller: –£–≤–µ—Å—å —á–∞—Å –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —ñ—Å—Ç–æ—Ä—ñ—è —á–∞—Ç—É —Ç–∞ —Å—Ç–∞—Ç—É—Å–∏ —É–≥–æ–¥–∏
